/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20150601+DEV
 */
!function(e,t){"use strict";function n(n,o){function i(e){return ye.preferFlash&&ue&&!ye.ignoreFlash&&ye.flash[e]!==t&&ye.flash[e]}function a(e){return function(t){var n,o=this._s;return o&&o._a?n=e.call(this,t):(o&&o.id,n=null),n}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601+DEV",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,r,l,u,d,c,f,h,p,m,_,y,g,v,O,b,w,M,L,T,P,S,F,D,I,H,A,E,R,k,C,x,N,U,B,W,q,V,j,Q,$,K,G,J,X,Y,Z,z,ee,te,ne,oe,ie,ae,se,re,le,ue,de,ce,fe,he,pe,me,_e,ye=this,ge=null,ve=null,Oe="soundManager",be=Oe+": ",we=navigator.userAgent,Me=e.location.href.toString(),Le=document,Te=[],Pe=!0,Se=!1,Fe=!1,De=!1,Ie=!1,He=!1,Ae=0,Ee=["log","info","warn","error"],Re=8,ke=null,Ce=null,xe=!1,Ne=!1,Ue=0,Be=null,We=[],qe=null,Ve=Array.prototype.slice,je=!1,Qe=0,$e=1e3,Ke=we.match(/(ipad|iphone|ipod)/i),Ge=we.match(/android/i),Je=we.match(/msie/i),Xe=we.match(/webkit/i),Ye=we.match(/safari/i)&&!we.match(/chrome/i),Ze=we.match(/opera/i),ze=we.match(/(mobile|pre\/|xoom)/i)||Ke||Ge,et=!Me.match(/usehtml5audio/i)&&!Me.match(/sm2\-ignorebadua/i)&&Ye&&!we.match(/silk/i)&&we.match(/OS X 10_6_([3-7])/i),tt=e.console!==t&&console.log!==t,nt=Le.hasFocus!==t?Le.hasFocus():null,ot=Ye&&(Le.hasFocus===t||!Le.hasFocus()),it=!ot,at=/(mp3|mp4|mpa|m4a|m4b)/i,st="about:blank",rt="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",lt=Le.location?Le.location.protocol.match(/http/i):null,ut=lt?"":"http://",dt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ct=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ft=new RegExp("\\.("+ct.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!lt,q={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},ne=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==t&&(Ze&&opera!==t&&opera.version()<10?new Audio(null):new Audio).canPlayType!==t}catch(e){return!1}}(),this.setup=function(e){var n=!ye.url;return e!==t&&De&&qe&&ye.ok()&&(e.flashVersion!==t||e.url!==t||e.html5Test!==t),_(e),je||(ze?ye.setupOptions.ignoreMobileRestrictions&&!ye.setupOptions.forceUseGlobalHTML5Audio||(We.push(P.globalHTML5),je=!0):ye.setupOptions.forceUseGlobalHTML5Audio&&(We.push(P.globalHTML5),je=!0)),!_e&&ze&&(ye.setupOptions.ignoreMobileRestrictions?We.push(P.ignoreMobile):(!ye.setupOptions.useHTML5Audio||ye.setupOptions.preferFlash,ye.setupOptions.useHTML5Audio=!0,ye.setupOptions.preferFlash=!1,Ke?ye.ignoreFlash=!0:(Ge&&!we.match(/android\s2\.3/i)||!Ge)&&(je=!0))),e&&(n&&I&&e.url!==t&&ye.beginDelayedInit(),I||e.url===t||"complete"!==Le.readyState||setTimeout(F,1)),_e=!0,ye},this.ok=function(){return qe?De&&!Ie:ye.useHTML5Audio&&ye.hasHTML5},this.supported=this.ok,this.getMovie=function(t){return r(t)||Le[t]||e[t]},this.createSound=function(e,n){function o(){return r=j(r),ye.sounds[r.id]=new s(r),ye.soundIDs.push(r.id),ye.sounds[r.id]}var i,a,r,l=null;if(i=Oe+".createSound(): ",a=i+U(De?"notOK":"notReady"),!De||!ye.ok())return!1;if(n!==t&&(e={id:e,url:n}),r=m(e),r.url=Y(r.url),r.id===t&&(r.id=ye.setupOptions.idPrefix+Qe++),r.id.toString().charAt(0).match(/^[0-9]$/),K(r.id,!0))return ye.sounds[r.id];if(ee(r))l=o(),!ye.html5Only,l._setup_html5(r);else{if(ye.html5Only)return o();if(ye.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return o();c>8&&(null===r.isMovieStar&&(r.isMovieStar=!!(r.serverURL||!!r.type&&r.type.match(dt)||r.url&&r.url.match(ft))),r.isMovieStar&&r.loops>1),r=Q(r,i),l=o(),8===c?ve._createSound(r.id,r.loops||1,r.usePolicyFile):(ve._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,!!r.isMovieStar&&r.bufferTime,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(l.connected=!0,r.onconnect&&r.onconnect.apply(l))),r.serverURL||!r.autoLoad&&!r.autoPlay||l.load(r)}return!r.serverURL&&r.autoPlay&&l.play(),l},this.destroySound=function(e,t){if(!K(e))return!1;var n,o=ye.sounds[e];for(o.stop(),o._iO={},o.unload(),n=0;n<ye.soundIDs.length;n++)if(ye.soundIDs[n]===e){ye.soundIDs.splice(n,1);break}return t||o.destruct(!0),o=null,delete ye.sounds[e],!0},this.load=function(e,t){return!!K(e)&&ye.sounds[e].load(t)},this.unload=function(e){return!!K(e)&&ye.sounds[e].unload()},this.onPosition=function(e,t,n,o){return!!K(e)&&ye.sounds[e].onposition(t,n,o)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return!!K(e)&&ye.sounds[e].clearOnPosition(t,n)},this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!De||!ye.ok())return!1;if(K(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(t.id=e,n=ye.createSound(t).play())}return null===n&&(n=ye.sounds[e].play(t)),n},this.start=this.play,this.setPlaybackRate=function(e,t,n){return!!K(e)&&ye.sounds[e].setPlaybackRate(t,n)},this.setPosition=function(e,t){return!!K(e)&&ye.sounds[e].setPosition(t)},this.stop=function(e){return!!K(e)&&ye.sounds[e].stop()},this.stopAll=function(){var e;for(e in ye.sounds)ye.sounds.hasOwnProperty(e)&&ye.sounds[e].stop()},this.pause=function(e){return!!K(e)&&ye.sounds[e].pause()},this.pauseAll=function(){var e;for(e=ye.soundIDs.length-1;e>=0;e--)ye.sounds[ye.soundIDs[e]].pause()},this.resume=function(e){return!!K(e)&&ye.sounds[e].resume()},this.resumeAll=function(){var e;for(e=ye.soundIDs.length-1;e>=0;e--)ye.sounds[ye.soundIDs[e]].resume()},this.togglePause=function(e){return!!K(e)&&ye.sounds[e].togglePause()},this.setPan=function(e,t){return!!K(e)&&ye.sounds[e].setPan(t)},this.setVolume=function(e,n){var o,i;{if(e===t||isNaN(e)||n!==t)return!!K(e)&&ye.sounds[e].setVolume(n);for(o=0,i=ye.soundIDs.length;o<i;o++)ye.sounds[ye.soundIDs[o]].setVolume(e)}},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!K(e)&&ye.sounds[e].mute();for(t=ye.soundIDs.length-1;t>=0;t--)ye.sounds[ye.soundIDs[t]].mute();return ye.muted=!0,!0},this.muteAll=function(){ye.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!K(e)&&ye.sounds[e].unmute();for(t=ye.soundIDs.length-1;t>=0;t--)ye.sounds[ye.soundIDs[t]].unmute();return ye.muted=!1,!0},this.unmuteAll=function(){ye.unmute()},this.toggleMute=function(e){return!!K(e)&&ye.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ve&&8!==c&&(e=parseInt(ve._getMemoryUse(),10)),e},this.disable=function(n){var o;if(n===t&&(n=!1),Ie)return!1;for(Ie=!0,o=ye.soundIDs.length-1;o>=0;o--)C(ye.sounds[ye.soundIDs[o]]);return C(ye),p(n),re.remove(e,"load",O),!0},this.canPlayMIME=function(e){var t;return ye.hasHTML5&&(t=te({type:e})),!t&&qe&&(t=e&&ye.ok()?!!((c>8?e.match(dt):null)||e.match(ye.mimePattern)):null),t},this.canPlayURL=function(e){var t;return ye.hasHTML5&&(t=te({url:e})),!t&&qe&&(t=e&&ye.ok()?!!e.match(ye.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===t||!e.type||!ye.canPlayMIME(e.type))||ye.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var n=ye.sounds[e];return n},this.onready=function(t,n){var o="onready",i=!1;if("function"!=typeof t)throw U("needFunction",o);return n||(n=e),g(o,t,n),v(),i=!0,i},this.ontimeout=function(t,n){var o="ontimeout",i=!1;if("function"!=typeof t)throw U("needFunction",o);return n||(n=e),g(o,t,n),v({type:o}),i=!0,i},this._writeDebug=function(e,n){var o,i,a="soundmanager-debug";return!!ye.setupOptions.debugMode&&(!!(tt&&ye.useConsole&&(n&&"object"==typeof n?console.log(e,n):Ee[n]!==t?console[Ee[n]](e):console.log(e),ye.consoleOnly))||!!(o=r(a))&&(i=Le.createElement("div"),++Ae%2===0&&(i.className="sm2-alt"),n=n===t?0:parseInt(n,10),i.appendChild(Le.createTextNode(e)),n&&(n>=2&&(i.style.fontWeight="bold"),3===n&&(i.style.color="#ff3333")),o.insertBefore(i,o.firstChild),o=null,!0))},Me.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(t){e.alert(t)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(e=0,t=ye.soundIDs.length;e<t;e++)ye.sounds[ye.soundIDs[e]]._debug()},this.reboot=function(t,n){ye.soundIDs.length;var o,i,a;for(o=ye.soundIDs.length-1;o>=0;o--)ye.sounds[ye.soundIDs[o]].destruct();if(ve)try{Je&&(Ce=ve.innerHTML),ke=ve.parentNode.removeChild(ve)}catch(e){}if(Ce=ke=qe=ve=null,ye.enabled=I=De=xe=Ne=Se=Fe=Ie=je=ye.swfLoaded=!1,ye.soundIDs=[],ye.sounds={},Qe=0,_e=!1,t)Te=[];else for(o in Te)if(Te.hasOwnProperty(o))for(i=0,a=Te[o].length;i<a;i++)Te[o][i].fired=!1;return ye.html5={usingFlash:null},ye.flash={},ye.html5Only=!1,ye.ignoreFlash=!1,e.setTimeout(function(){n||ye.beginDelayedInit()},20),ye},this.reset=function(){return ye.reboot(!0,!0)},this.getMoviePercent=function(){return ve&&"PercentLoaded"in ve?ve.PercentLoaded():null},this.beginDelayedInit=function(){He=!0,F(),setTimeout(function(){return!Ne&&(A(),S(),Ne=!0,!0)},20),b()},this.destruct=function(){ye.disable(!0)},s=function(e){var n,o,i,a,s,r,l,u,d,f,h=this,p=!1,_=[],y=0,g=null;d={duration:null,time:null},this.id=e.id,this.sID=this.id,this.url=e.url,this.options=m(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(e){var n,o=null;if(e!==t?h._iO=m(e,h.options):(e=h.options,h._iO=e,g&&g!==h.url&&(h._iO.url=h.url,h.url=null)),h._iO.url||(h._iO.url=h.url),h._iO.url=Y(h._iO.url),h.instanceOptions=h._iO,n=h._iO,!n.url&&!h.url)return h;if(!h.isHTML5&&8===c&&!h.url&&!n.autoPlay,n.url===h.url&&0!==h.readyState&&2!==h.readyState)return 3===h.readyState&&n.onload&&me(h,function(){n.onload.apply(h,[!!h.duration])}),h;if(h.loaded=!1,h.readyState=1,h.playState=0,h.id3={},ee(n))o=h._setup_html5(n),o._called_load||(h._html5_canplay=!1,h.url!==n.url&&(h._a.src=n.url,h.setPosition(0)),h._a.autobuffer="auto",h._a.preload="auto",h._a._called_load=!0);else{if(ye.html5Only)return h;if(h._iO.url&&h._iO.url.match(/data\:/i))return h;try{h.isHTML5=!1,h._iO=Q(j(n)),h._iO.autoPlay&&(h._iO.position||h._iO.from)&&(h._iO.autoPlay=!1),n=h._iO,8===c?ve._load(h.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):ve._load(h.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(e){E({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return h.url=n.url,h},this.unload=function(){return 0!==h.readyState&&(h.isHTML5?(a(),h._a&&(h._a.pause(),g=ie(h._a))):8===c?ve._unload(h.id,st):ve._unload(h.id),n()),h},this.destruct=function(e){h.isHTML5?(a(),h._a&&(h._a.pause(),ie(h._a),je||i(),h._a._s=null,h._a=null)):(h._iO.onfailure=null,ve._destroySound(h.id)),e||ye.destroySound(h.id,!0)},this.play=function(e,n){var o,i,a,l,d,_,y,g=!0,v=null;if(o=h.id+": play(): ",n=n===t||n,e||(e={}),h.url&&(h._iO.url=h.url),h._iO=m(h._iO,h.options),h._iO=m(e,h._iO),h._iO.url=Y(h._iO.url),h.instanceOptions=h._iO,!h.isHTML5&&h._iO.serverURL&&!h.connected)return h.getAutoPlay()||h.setAutoPlay(!0),h;if(ee(h._iO)&&(h._setup_html5(h._iO),s()),1!==h.playState||h.paused||(i=h._iO.multiShot,i||(h.isHTML5&&h.setPosition(h._iO.position),v=h)),null!==v)return v;if(e.url&&e.url!==h.url&&(h.readyState||h.isHTML5||8!==c||!f?h.load(h._iO):f=!1),h.loaded||(0===h.readyState?(h.isHTML5||ye.html5Only?h.isHTML5?h.load(h._iO):v=h:(h._iO.autoPlay=!0,h.load(h._iO)),h.instanceOptions=h._iO):2===h.readyState&&(v=h)),null!==v)return v;if(!h.isHTML5&&9===c&&h.position>0&&h.position===h.duration&&(e.position=0),h.paused&&h.position>=0&&(!h._iO.serverURL||h.position>0))h.resume();else{if(h._iO=m(e,h._iO),(!h.isHTML5&&null!==h._iO.position&&h._iO.position>0||null!==h._iO.from&&h._iO.from>0||null!==h._iO.to)&&0===h.instanceCount&&0===h.playState&&!h._iO.serverURL){if(l=function(){h._iO=m(e,h._iO),h.play(h._iO)},h.isHTML5&&!h._html5_canplay?(h.load({_oncanplay:l}),v=!1):h.isHTML5||h.loaded||h.readyState&&2===h.readyState||(h.load({onload:l}),v=!1),null!==v)return v;h._iO=u()}(!h.instanceCount||h._iO.multiShotEvents||h.isHTML5&&h._iO.multiShot&&!je||!h.isHTML5&&c>8&&!h.getAutoPlay())&&h.instanceCount++,h._iO.onposition&&0===h.playState&&r(h),h.playState=1,h.paused=!1,h.position=h._iO.position===t||isNaN(h._iO.position)?0:h._iO.position,h.isHTML5||(h._iO=Q(j(h._iO))),h._iO.onplay&&n&&(h._iO.onplay.apply(h),p=!0),h.setVolume(h._iO.volume,!0),h.setPan(h._iO.pan,!0),1!==h._iO.playbackRate&&h.setPlaybackRate(h._iO.playbackRate),h.isHTML5?h.instanceCount<2?(s(),a=h._setup_html5(),h.setPosition(h._iO.position),a.play()):(d=new Audio(h._iO.url),_=function(){re.remove(d,"ended",_),h._onfinish(h),ie(d),d=null},y=function(){re.remove(d,"canplay",y);try{d.currentTime=h._iO.position/$e}catch(e){}d.play()},re.add(d,"ended",_),h._iO.volume!==t&&(d.volume=Math.max(0,Math.min(1,h._iO.volume/100))),h.muted&&(d.muted=!0),h._iO.position?re.add(d,"canplay",y):d.play()):(g=ve._start(h.id,h._iO.loops||1,9===c?h.position:h.position/$e,h._iO.multiShot||!1),9!==c||g||h._iO.onplayerror&&h._iO.onplayerror.apply(h))}return h},this.start=this.play,this.stop=function(e){var t,n=h._iO;return 1===h.playState&&(h._onbufferchange(0),h._resetOnPosition(0),h.paused=!1,h.isHTML5||(h.playState=0),l(),n.to&&h.clearOnPosition(n.to),h.isHTML5?h._a&&(t=h.position,h.setPosition(0),h.position=t,h._a.pause(),h.playState=0,h._onTimer(),a()):(ve._stop(h.id,e),n.serverURL&&h.unload()),h.instanceCount=0,h._iO={},n.onstop&&n.onstop.apply(h)),h},this.setAutoPlay=function(e){h._iO.autoPlay=e,h.isHTML5||(ve._setAutoPlay(h.id,e),e&&(h.instanceCount||1!==h.readyState||h.instanceCount++))},this.getAutoPlay=function(){return h._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(h.isHTML5)try{h._iO.playbackRate=t,h._a.playbackRate=t}catch(e){}return h},this.setPosition=function(e){e===t&&(e=0);var n,o,i=h.isHTML5?Math.max(e,0):Math.min(h.duration||h._iO.duration,Math.max(e,0));if(h.position=i,o=h.position/$e,h._resetOnPosition(h.position),h._iO.position=i,h.isHTML5){if(h._a){if(h._html5_canplay){if(h._a.currentTime!==o)try{h._a.currentTime=o,(0===h.playState||h.paused)&&h._a.pause()}catch(e){}}else if(o)return h;h.paused&&h._onTimer(!0)}}else n=9===c?h.position:o,h.readyState&&2!==h.readyState&&ve._setPosition(h.id,n,h.paused||!h.playState,h._iO.multiShot);return h},this.pause=function(e){return h.paused||0===h.playState&&1!==h.readyState?h:(h.paused=!0,h.isHTML5?(h._setup_html5().pause(),a()):(e||e===t)&&ve._pause(h.id,h._iO.multiShot),h._iO.onpause&&h._iO.onpause.apply(h),h)},this.resume=function(){var e=h._iO;return h.paused?(h.paused=!1,h.playState=1,h.isHTML5?(h._setup_html5().play(),s()):(e.isMovieStar&&!e.serverURL&&h.setPosition(h.position),ve._pause(h.id,e.multiShot)),!p&&e.onplay?(e.onplay.apply(h),p=!0):e.onresume&&e.onresume.apply(h),h):h},this.togglePause=function(){return 0===h.playState?(h.play({position:9!==c||h.isHTML5?h.position/$e:h.position}),h):(h.paused?h.resume():h.pause(),h)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),h.isHTML5||ve._setPan(h.id,e),h._iO.pan=e,n||(h.pan=e,h.options.pan=e),h},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),h.isHTML5?h._a&&(ye.muted&&!h.muted&&(h.muted=!0,h._a.muted=!0),h._a.volume=Math.max(0,Math.min(1,e/100))):ve._setVolume(h.id,ye.muted&&!h.muted||h.muted?0:e),h._iO.volume=e,n||(h.volume=e,h.options.volume=e),h},this.mute=function(){return h.muted=!0,h.isHTML5?h._a&&(h._a.muted=!0):ve._setVolume(h.id,0),h},this.unmute=function(){h.muted=!1;var e=h._iO.volume!==t;return h.isHTML5?h._a&&(h._a.muted=!1):ve._setVolume(h.id,e?h._iO.volume:h.options.volume),h},this.toggleMute=function(){return h.muted?h.unmute():h.mute()},this.onPosition=function(e,n,o){return _.push({position:parseInt(e,10),method:n,scope:o!==t?o:h,fired:!1}),h},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<_.length;n++)e===_[n].position&&(t&&t!==_[n].method||(_[n].fired&&y--,_.splice(n,1)))},this._processOnPosition=function(){var e,t,n=_.length;if(!n||!h.playState||y>=n)return!1;for(e=n-1;e>=0;e--)t=_[e],!t.fired&&h.position>=t.position&&(t.fired=!0,y++,t.method.apply(t.scope,[t.position]),n=_.length);return!0},this._resetOnPosition=function(e){var t,n,o=_.length;if(!o)return!1;for(t=o-1;t>=0;t--)n=_[t],n.fired&&e<=n.position&&(n.fired=!1,y--);return!0},u=function(){var e,t,n=h._iO,o=n.from,i=n.to;return t=function(){h.clearOnPosition(i,t),h.stop()},e=function(){null===i||isNaN(i)||h.onPosition(i,t)},null===o||isNaN(o)||(n.position=o,n.multiShot=!1,e()),n},r=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.onPosition(parseInt(e,10),t[e])},l=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.clearOnPosition(parseInt(e,10))},s=function(){h.isHTML5&&G(h)},a=function(){h.isHTML5&&J(h)},n=function(e){e||(_=[],y=0),p=!1,h._hasTimer=null,h._a=null,h._html5_canplay=!1,h.bytesLoaded=null,h.bytesTotal=null,h.duration=h._iO&&h._iO.duration?h._iO.duration:null,h.durationEstimate=null,h.buffered=[],h.eqData=[],h.eqData.left=[],h.eqData.right=[],h.failures=0,h.isBuffering=!1,h.instanceOptions={},h.instanceCount=0,h.loaded=!1,h.metadata={},h.readyState=0,h.muted=!1,h.paused=!1,h.peakData={left:0,right:0},h.waveformData={left:[],right:[]},h.playState=0,h.position=null,h.id3={}},n(),this._onTimer=function(e){var t,n,o=!1,i={};if(h._hasTimer||e)return h._a&&(e||(h.playState>0||1===h.readyState)&&!h.paused)&&(t=h._get_html5_duration(),t!==d.duration&&(d.duration=t,h.duration=t,o=!0),h.durationEstimate=h.duration,n=h._a.currentTime*$e||0,n!==d.time&&(d.time=n,o=!0),(o||e)&&h._whileplaying(n,i,i,i,i)),o},this._get_html5_duration=function(){var e=h._iO,t=h._a&&h._a.duration?h._a.duration*$e:e&&e.duration?e.duration:null,n=t&&!isNaN(t)&&t!==1/0?t:null;return n},this._apply_loop=function(e,t){!e.loop&&t>1,e.loop=t>1?"loop":""},this._setup_html5=function(e){var t,i=m(h._iO,e),a=je?ge:h._a,s=decodeURI(i.url);if(je?s===decodeURI(le)&&(t=!0):s===decodeURI(g)&&(t=!0),a){if(a._s)if(je)a._s&&a._s.playState&&!t&&a._s.stop();else if(!je&&s===decodeURI(g))return h._apply_loop(a,i.loops),a;t||(g&&n(!1),a.src=i.url,h.url=i.url,g=i.url,le=i.url,a._called_load=!1)}else i.autoLoad||i.autoPlay?(h._a=new Audio(i.url),h._a.load()):h._a=Ze&&opera.version()<10?new Audio(null):new Audio,a=h._a,a._called_load=!1,je&&(ge=a);return h.isHTML5=!0,h._a=a,a._s=h,o(),h._apply_loop(a,i.loops),i.autoLoad||i.autoPlay?h.load():(a.autobuffer=!1,a.preload="auto"),a},o=function(){function e(e,t,n){return h._a?h._a.addEventListener(e,t,n||!1):null}if(h._a._added_events)return!1;var t;h._a._added_events=!0;for(t in fe)fe.hasOwnProperty(t)&&e(t,fe[t]);return!0},i=function(){function e(e,t,n){return h._a?h._a.removeEventListener(e,t,n||!1):null}var t;h._a._added_events=!1;for(t in fe)fe.hasOwnProperty(t)&&e(t,fe[t])},this._onload=function(e){var t,n=!!e||!h.isHTML5&&8===c&&h.duration;return t=h.id+": ",n||h.isHTML5||(ye.sandbox.noRemote===!0,ye.sandbox.noLocal===!0),h.loaded=n,h.readyState=n?3:2,h._onbufferchange(0),n||h.isHTML5||h._onerror(),h._iO.onload&&me(h,function(){h._iO.onload.apply(h,[n])}),!0},this._onerror=function(e,t){h._iO.onerror&&me(h,function(){h._iO.onerror.apply(h,[e,t])})},this._onbufferchange=function(e){return 0!==h.playState&&(!(e&&h.isBuffering||!e&&!h.isBuffering)&&(h.isBuffering=1===e,h._iO.onbufferchange&&h._iO.onbufferchange.apply(h,[e]),!0))},this._onsuspend=function(){return h._iO.onsuspend&&h._iO.onsuspend.apply(h),!0},this._onfailure=function(e,t,n){h.failures++,h._iO.onfailure&&1===h.failures&&h._iO.onfailure(e,t,n)},this._onwarning=function(e,t,n){h._iO.onwarning&&h._iO.onwarning(e,t,n)},this._onfinish=function(){var e=h._iO.onfinish;h._onbufferchange(0),h._resetOnPosition(0),h.instanceCount&&(h.instanceCount--,h.instanceCount||(l(),h.playState=0,h.paused=!1,h.instanceCount=0,h.instanceOptions={},h._iO={},a(),h.isHTML5&&(h.position=0)),h.instanceCount&&!h._iO.multiShotEvents||e&&me(h,function(){e.apply(h)}))},this._whileloading=function(e,t,n,o){var i=h._iO;h.bytesLoaded=e,h.bytesTotal=t,h.duration=Math.floor(n),h.bufferLength=o,h.isHTML5||i.isMovieStar?h.durationEstimate=h.duration:i.duration?h.durationEstimate=h.duration>i.duration?h.duration:i.duration:h.durationEstimate=parseInt(h.bytesTotal/h.bytesLoaded*h.duration,10),h.isHTML5||(h.buffered=[{start:0,end:h.duration}]),(3!==h.readyState||h.isHTML5)&&i.whileloading&&i.whileloading.apply(h)},this._whileplaying=function(e,n,o,i,a){var s,r=h._iO;return!isNaN(e)&&null!==e&&(h.position=Math.max(0,e),h._processOnPosition(),!h.isHTML5&&c>8&&(r.usePeakData&&n!==t&&n&&(h.peakData={left:n.leftPeak,right:n.rightPeak}),r.useWaveformData&&o!==t&&o&&(h.waveformData={left:o.split(","),right:i.split(",")}),r.useEQData&&a!==t&&a&&a.leftEQ&&(s=a.leftEQ.split(","),h.eqData=s,h.eqData.left=s,a.rightEQ!==t&&a.rightEQ&&(h.eqData.right=a.rightEQ.split(",")))),1===h.playState&&(h.isHTML5||8!==c||h.position||!h.isBuffering||h._onbufferchange(0),r.whileplaying&&r.whileplaying.apply(h)),!0)},this._oncaptiondata=function(e){h.captiondata=e,h._iO.oncaptiondata&&h._iO.oncaptiondata.apply(h,[e])},this._onmetadata=function(e,t){var n,o,i={};for(n=0,o=e.length;n<o;n++)i[e[n]]=t[n];h.metadata=i,h._iO.onmetadata&&h._iO.onmetadata.call(h,h.metadata)},this._onid3=function(e,t){var n,o,i=[];for(n=0,o=e.length;n<o;n++)i[e[n]]=t[n];h.id3=m(h.id3,i),h._iO.onid3&&h._iO.onid3.apply(h)},this._onconnect=function(e){e=1===e,h.connected=e,e&&(h.failures=0,K(h.id)&&(h.getAutoPlay()?h.play(t,h.getAutoPlay()):h._iO.autoLoad&&h.load()),h._iO.onconnect&&h._iO.onconnect.apply(h,[e]))},this._ondataerror=function(e){h.playState>0&&h._iO.ondataerror&&h._iO.ondataerror.apply(h)},this._debug()},H=function(){return Le.body||Le.getElementsByTagName("div")[0]},r=function(e){return Le.getElementById(e)},m=function(e,n){var o,i,a=e||{};o=n===t?ye.defaultOptions:n;for(i in o)o.hasOwnProperty(i)&&a[i]===t&&("object"!=typeof o[i]||null===o[i]?a[i]=o[i]:a[i]=m(a[i],o[i]));return a},me=function(t,n){t.isHTML5||8!==c?n():e.setTimeout(n,0)},y={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},_=function(e,n){var o,i=!0,a=n!==t,s=ye.setupOptions,r=y;if(e===t){i=[];for(o in s)s.hasOwnProperty(o)&&i.push(o);for(o in r)r.hasOwnProperty(o)&&("object"==typeof ye[o]?i.push(o+": {...}"):ye[o]instanceof Function?i.push(o+": function() {...}"):i.push(o));return!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)a&&r[n]!==t?ye[n][o]=e[o]:s[o]!==t?(ye.setupOptions[o]=e[o],ye[o]=e[o]):r[o]===t?i=!1:ye[o]instanceof Function?ye[o].apply(ye,e[o]instanceof Array?e[o]:[e[o]]):ye[o]=e[o];else{if(r[o]!==t)return _(e[o],o);i=!1}return i},re=function(){function t(e){var t=Ve.call(e),n=t.length;return a?(t[1]="on"+t[1],n>3&&t.pop()):3===n&&t.push(!1),t}function n(e,t){var n=e.shift(),o=[s[t]];a?n[o](e[0],e[1]):n[o].apply(n,e)}function o(){n(t(arguments),"add")}function i(){n(t(arguments),"remove")}var a=e.attachEvent,s={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:o,remove:i}}(),fe={abort:a(function(){}),canplay:a(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/$e,this.currentTime!==e)try{this.currentTime=e}catch(e){}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:a(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:a(function(){var e,t=this._s;e=t._get_html5_duration(),isNaN(e)||e===t.duration||(t.durationEstimate=t.duration=e)}),ended:a(function(){var e=this._s;e._onfinish()}),error:a(function(){var e=ne[this.error.code]||null;this._s._onload(!1),this._s._onerror(this.error.code,e)}),loadeddata:a(function(){var e=this._s;e._loaded||Ye||(e.duration=e._get_html5_duration())}),loadedmetadata:a(function(){}),loadstart:a(function(){this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){this._s._onbufferchange(0)}),progress:a(function(e){var t,n,o,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1;if(i.buffered=[],r&&r.length){for(t=0,n=r.length;t<n;t++)i.buffered.push({start:r.start(t)*$e,end:r.end(t)*$e});if(a=(r.end(0)-r.start(0))*$e,l=Math.min(1,a/(e.target.duration*$e)),s&&r.length>1)for(o=[],n=r.length,t=0;t<n;t++)o.push(e.target.buffered.start(t)*$e+"-"+e.target.buffered.end(t)*$e);s&&!isNaN(l)}isNaN(l)||(i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&fe.canplaythrough.call(this,e))}),ratechange:a(function(){}),suspend:a(function(e){var t=this._s;fe.progress.call(this,e),t._onsuspend()}),stalled:a(function(){}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var e=this._s;e._onbufferchange(1)})},ee=function(e){var t;return t=!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&i(e.type))&&(e.type?te({type:e.type}):te({url:e.url})||ye.html5Only||e.url.match(/data\:/i)))},ie=function(e){var n;return e&&(n=Ye?st:ye.html5.canPlayType("audio/wav")?rt:st,e.src=n,e._called_unload!==t&&(e._called_load=!1)),je&&(le=null),n},te=function(e){if(!ye.useHTML5Audio||!ye.hasHTML5)return!1;var n,o,a,s,r=e.url||null,l=e.type||null,u=ye.audioFormats;if(l&&ye.html5[l]!==t)return ye.html5[l]&&!i(l);if(!oe){oe=[];for(s in u)u.hasOwnProperty(s)&&(oe.push(s),u[s].related&&(oe=oe.concat(u[s].related)));oe=new RegExp("\\.("+oe.join("|")+")(\\?.*)?$","i")}return a=r?r.toLowerCase().match(oe):null,a&&a.length?a=a[1]:l?(o=l.indexOf(";"),a=(o!==-1?l.substr(0,o):l).substr(6)):n=!1,a&&ye.html5[a]!==t?n=ye.html5[a]&&!i(a):(l="audio/"+a,n=ye.html5.canPlayType({type:l}),ye.html5[a]=n,n=n&&ye.html5[l]&&!i(l)),n},se=function(){function e(e){var t,n,o=!1,i=!1;if(!s||"function"!=typeof s.canPlayType)return o;if(e instanceof Array){for(a=0,n=e.length;a<n;a++)(ye.html5[e[a]]||s.canPlayType(e[a]).match(ye.html5Test))&&(i=!0,ye.html5[e[a]]=!0,ye.flash[e[a]]=!!e[a].match(at));o=i}else t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(e),o=!(!t||!t.match(ye.html5Test));return o}if(!ye.useHTML5Audio||!ye.hasHTML5)return ye.html5.usingFlash=!0,qe=!0,!1;var n,o,i,a,s=Audio!==t?Ze&&opera.version()<10?new Audio(null):new Audio:null,r={};i=ye.audioFormats;for(n in i)if(i.hasOwnProperty(n)&&(o="audio/"+n,r[n]=e(i[n].type),r[o]=r[n],n.match(at)?(ye.flash[n]=!0,ye.flash[o]=!0):(ye.flash[n]=!1,ye.flash[o]=!1),i[n]&&i[n].related))for(a=i[n].related.length-1;a>=0;a--)r["audio/"+i[n].related[a]]=r[n],ye.html5[i[n].related[a]]=r[n],ye.flash[i[n].related[a]]=r[n];return r.canPlayType=s?e:null,ye.html5=m(ye.html5,r),ye.html5.usingFlash=z(),qe=ye.html5.usingFlash,!0},P={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:Oe+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:be+"Verify that %s is a valid path.",tryDebug:"Try "+Oe+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:be+"Non-HTTP page ("+Le.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:be+"Special case: Waiting for SWF to load with window focus...",waitForever:be+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:be+"Waiting for 100% SWF load...",needFunction:be+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:be+"_debug(): Current sound objects",waitOnload:be+"Waiting for window.onload()",docLoaded:be+"Document already loaded",onload:be+"initComplete(): calling soundManager.onload()",onloadOK:Oe+".onload() complete",didInit:be+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:be+"Failed to remove Flash node.",shutdown:Oe+".disable(): Shutting down",queue:be+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+q.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:be+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:Oe+".load(): current URL already assigned.",badFV:Oe+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:be+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:be+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:Oe+".setup(): allowed parameters: %s",setupError:Oe+'.setup(): "%s" cannot be assigned with this method.',setupUndef:Oe+'.setup(): Could not find option "%s"',setupLate:Oe+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:be+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:Oe+".reset(): Removing event callbacks",
mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},U=function(){var e,t,n,o,i;if(e=Ve.call(arguments),o=e.shift(),i=P&&P[o]?P[o]:"",i&&e&&e.length)for(t=0,n=e.length;t<n;t++)i=i.replace("%s",e[t]);return i},j=function(e){return 8===c&&e.loops>1&&e.stream&&(e.stream=!1),e},Q=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},$=function(e){tt&&console.warn!==t&&console.warn(e)},l=function(){return!1},C=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l);t=null},x=function(e){e===t&&(e=!1),(Ie||e)&&ye.disable(e)},N=function(e){var t,n=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(n=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+ye.movieURL,ye.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},L=function(){c=parseInt(ye.flashVersion,10),8!==c&&9!==c&&(ye.flashVersion=c=Re);var e=ye.debugMode||ye.debugFlash?"_debug.swf":".swf";ye.useHTML5Audio&&!ye.html5Only&&ye.audioFormats.mp4.required&&c<9&&(ye.flashVersion=c=9),ye.version=ye.versionNumber+(ye.html5Only?" (HTML5-only mode)":9===c?" (AS3/Flash 9)":" (AS2/Flash 8)"),c>8?(ye.defaultOptions=m(ye.defaultOptions,ye.flash9Options),ye.features.buffering=!0,ye.defaultOptions=m(ye.defaultOptions,ye.movieStarOptions),ye.filePatterns.flash9=new RegExp("\\.(mp3|"+ct.join("|")+")(\\?.*)?$","i"),ye.features.movieStar=!0):ye.features.movieStar=!1,ye.filePattern=ye.filePatterns[8!==c?"flash9":"flash8"],ye.movieURL=(8===c?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),ye.features.peakData=ye.features.waveformData=ye.features.eqData=c>8},R=function(e,t){return!!ve&&void ve._setPolling(e,t)},k=function(){if(ye.debugURLParam.test(Me)&&(ye.setupOptions.debugMode=ye.debugMode=!0),r(ye.debugID))return!1;var e,t,n,o,i;if(ye.debugMode&&!r(ye.debugID)&&(!tt||!ye.useConsole||!ye.consoleOnly)){e=Le.createElement("div"),e.id=ye.debugID+"-toggle",o={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(Le.createTextNode("-")),e.onclick=V,e.title="Toggle SM2 debug console",we.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(i in o)o.hasOwnProperty(i)&&(e.style[i]=o[i]);if(t=Le.createElement("div"),t.id=ye.debugID,t.style.display=ye.debugMode?"block":"none",ye.debugMode&&!r(e.id)){try{n=H(),n.appendChild(e)}catch(e){throw new Error(U("domError")+" \n"+e.toString())}n.appendChild(t)}}n=null},K=this.getSoundById,h=function(e,t){},V=function(){var e=r(ye.debugID),t=r(ye.debugID+"-toggle");return!!e&&(Pe?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),void(Pe=!Pe))},f=function(n,o,i){if(e.sm2Debugger!==t)try{sm2Debugger.handleEvent(n,o,i)}catch(e){return!1}return!0},W=function(){var e=[];return ye.debugMode&&e.push(q.sm2Debug),ye.debugFlash&&e.push(q.flashDebug),ye.useHighPerformance&&e.push(q.highPerf),e.join(" ")},B=function(){var e=(U("fbHandler"),ye.getMoviePercent()),t=q,n={type:"FLASHBLOCK"};return!ye.html5Only&&void(ye.ok()?(ye.didFlashBlock,ye.oMC&&(ye.oMC.className=[W(),t.swfDefault,t.swfLoaded+(ye.didFlashBlock?" "+t.swfUnblocked:"")].join(" "))):(qe&&(ye.oMC.className=W()+" "+t.swfDefault+" "+(null===e?t.swfTimedout:t.swfError)),ye.didFlashBlock=!0,v({type:"ontimeout",ignoreInit:!0,error:n}),E(n)))},g=function(e,n,o){Te[e]===t&&(Te[e]=[]),Te[e].push({method:n,scope:o||null,fired:!1})},v=function(e){if(e||(e={type:ye.ok()?"onready":"ontimeout"}),!De&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(ye.ok()||Ie&&!e.ignoreInit))return!1;var t,n,o={success:e&&e.ignoreInit?ye.ok():!Ie},i=e&&e.type?Te[e.type]||[]:[],a=[],s=[o],r=qe&&!ye.ok();for(e.error&&(s[0].error=e.error),t=0,n=i.length;t<n;t++)i[t].fired!==!0&&a.push(i[t]);if(a.length)for(t=0,n=a.length;t<n;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},O=function(){e.setTimeout(function(){ye.useFlashBlock&&B(),v(),"function"==typeof ye.onload&&ye.onload.apply(e),ye.waitForWindowLoad&&re.add(e,"load",O)},1)},de=function(){if(ue!==t)return ue;var n,o,i,a=!1,s=navigator,r=s.plugins,l=e.ActiveXObject;if(r&&r.length)o="application/x-shockwave-flash",i=s.mimeTypes,i&&i[o]&&i[o].enabledPlugin&&i[o].enabledPlugin.description&&(a=!0);else if(l!==t&&!we.match(/MSAppHost/i)){try{n=new l("ShockwaveFlash.ShockwaveFlash")}catch(e){n=null}a=!!n,n=null}return ue=a,a},z=function(){var e,t,n=ye.audioFormats,o=Ke&&!!we.match(/os (1|2|3_0|3_1)\s/i);if(o?(ye.hasHTML5=!1,ye.html5Only=!0,ye.oMC&&(ye.oMC.style.display="none")):ye.useHTML5Audio&&(ye.html5&&ye.html5.canPlayType||(ye.hasHTML5=!1)),ye.useHTML5Audio&&ye.hasHTML5){Z=!0;for(t in n)n.hasOwnProperty(t)&&n[t].required&&(ye.html5.canPlayType(n[t].type)?ye.preferFlash&&(ye.flash[t]||ye.flash[n[t].type])&&(e=!0):(Z=!1,e=!0))}return ye.ignoreFlash&&(e=!1,Z=!0),ye.html5Only=ye.hasHTML5&&ye.useHTML5Audio&&!e,!ye.html5Only},Y=function(e){var t,n,o,i=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(ye.canPlayMIME(e[t].type)){i=t;break}}else if(ye.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),o=e[i]}else o=e;return o},G=function(e){e._hasTimer||(e._hasTimer=!0,!ze&&ye.html5PollingInterval&&(null===Be&&0===Ue&&(Be=setInterval(X,ye.html5PollingInterval)),Ue++))},J=function(e){e._hasTimer&&(e._hasTimer=!1,!ze&&ye.html5PollingInterval&&Ue--)},X=function(){var e;if(null!==Be&&!Ue)return clearInterval(Be),Be=null,!1;for(e=ye.soundIDs.length-1;e>=0;e--)ye.sounds[ye.soundIDs[e]].isHTML5&&ye.sounds[ye.soundIDs[e]]._hasTimer&&ye.sounds[ye.soundIDs[e]]._onTimer()},E=function(n){n=n!==t?n:{},"function"==typeof ye.onerror&&ye.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&ye.disable()},ce=function(){if(!et||!de())return!1;var e,t,n=ye.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(ye.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)ye.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var n=ye.sandbox;n.type=e,n.description=n.types[n.types[e]!==t?e:"unknown"],"localWithFile"===n.type?(n.noRemote=!0,n.noLocal=!1):"localWithNetwork"===n.type?(n.noRemote=!1,n.noLocal=!0):"localTrusted"===n.type&&(n.noRemote=!1,n.noLocal=!1)},this._externalInterfaceOK=function(e){if(ye.swfLoaded)return!1;var t;return ye.swfLoaded=!0,ot=!1,et&&ce(),e&&e.replace(/\+dev/i,"")===ye.versionNumber.replace(/\+dev/i,"")?void setTimeout(d,Je?100:1):(t=Oe+': Fatal: JavaScript file build "'+ye.versionNumber+'" does not match Flash SWF build "'+e+'" at '+ye.url+". Ensure both are up-to-date.",setTimeout(function(){throw new Error(t)},0),!1)},A=function(e,n){function o(){var e,t=[],n=[],o=" + ";e="SoundManager "+ye.version+(!ye.html5Only&&ye.useHTML5Audio?ye.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),ye.html5Only?ye.html5PollingInterval&&t.push("html5PollingInterval ("+ye.html5PollingInterval+"ms)"):(ye.preferFlash&&t.push("preferFlash"),ye.useHighPerformance&&t.push("useHighPerformance"),ye.flashPollingInterval&&t.push("flashPollingInterval ("+ye.flashPollingInterval+"ms)"),ye.html5PollingInterval&&t.push("html5PollingInterval ("+ye.html5PollingInterval+"ms)"),ye.wmode&&t.push("wmode ("+ye.wmode+")"),ye.debugFlash&&t.push("debugFlash"),ye.useFlashBlock&&t.push("flashBlock")),t.length&&(n=n.concat([t.join(o)])),he()}function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(Se&&Fe)return!1;if(ye.html5Only)return L(),o(),ye.oMC=r(ye.movieID),d(),Se=!0,Fe=!0,!1;var a,s,l,u,c,f,h,p,m=n||ye.url,_=ye.altURL||m,y="JS/Flash audio component (SoundManager 2)",g=H(),v=W(),O=null,b=Le.getElementsByTagName("html")[0];if(O=b&&b.dir&&b.dir.match(/rtl/i),e=e===t?ye.id:e,L(),ye.url=N(lt?m:_),n=ye.url,ye.wmode=!ye.wmode&&ye.useHighPerformance?"transparent":ye.wmode,null!==ye.wmode&&(we.match(/msie 8/i)||!Je&&!ye.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(We.push(P.spcWmode),ye.wmode=null),a={name:e,id:e,src:n,quality:"high",allowScriptAccess:ye.allowScriptAccess,bgcolor:ye.bgColor,pluginspage:ut+"www.macromedia.com/go/getflashplayer",title:y,type:"application/x-shockwave-flash",wmode:ye.wmode,hasPriority:"true"},ye.debugFlash&&(a.FlashVars="debug=1"),ye.wmode||delete a.wmode,Je)s=Le.createElement("div"),u=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",ye.allowScriptAccess),i("quality",a.quality),ye.wmode?i("wmode",ye.wmode):"",i("bgcolor",ye.bgColor),i("hasPriority","true"),ye.debugFlash?i("FlashVars",a.FlashVars):"","</object>"].join("");else{s=Le.createElement("embed");for(l in a)a.hasOwnProperty(l)&&s.setAttribute(l,a[l])}if(k(),v=W(),g=H())if(ye.oMC=r(ye.movieID)||Le.createElement("div"),ye.oMC.id)p=ye.oMC.className,ye.oMC.className=(p?p+" ":q.swfDefault)+(v?" "+v:""),ye.oMC.appendChild(s),Je&&(c=ye.oMC.appendChild(Le.createElement("div")),c.className=q.swfBox,c.innerHTML=u),Fe=!0;else{if(ye.oMC.id=ye.movieID,ye.oMC.className=q.swfDefault+" "+v,f=null,c=null,ye.useFlashBlock||(ye.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},O&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Xe&&(ye.oMC.style.zIndex=1e4),!ye.debugFlash)for(h in f)f.hasOwnProperty(h)&&(ye.oMC.style[h]=f[h]);try{Je||ye.oMC.appendChild(s),g.appendChild(ye.oMC),Je&&(c=ye.oMC.appendChild(Le.createElement("div")),c.className=q.swfBox,c.innerHTML=u),Fe=!0}catch(e){throw new Error(U("domError")+" \n"+e.toString())}}return Se=!0,o(),!0},S=function(){return ye.html5Only?(A(),!1):!ve&&(!!ye.url&&(ve=ye.getMovie(ye.id),ve||(ke?(Je?ye.oMC.innerHTML=Ce:ye.oMC.appendChild(ke),ke=null,Se=!0):A(ye.id,ye.url),ve=ye.getMovie(ye.id)),"function"==typeof ye.oninitmovie&&setTimeout(ye.oninitmovie,1),pe(),!0))},b=function(){setTimeout(w,1e3)},M=function(){e.setTimeout(function(){ye.setup({preferFlash:!1}).reboot(),ye.didFlashBlock=!0,ye.beginDelayedInit()},1)},w=function(){var t,n=!1;return!!ye.url&&(!xe&&(xe=!0,re.remove(e,"load",b),!(ue&&ot&&!nt)&&(De||(t=ye.getMoviePercent(),t>0&&t<100&&(n=!0)),void setTimeout(function(){return t=ye.getMoviePercent(),n?(xe=!1,e.setTimeout(b,1),!1):(De||!lt&&t&&!ye.debugFlash,void(!De&&it&&(null===t?ye.useFlashBlock||0===ye.flashLoadTimeout?ye.useFlashBlock&&B():!ye.useFlashBlock&&Z?M():v({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===ye.flashLoadTimeout||(!ye.useFlashBlock&&Z?M():x(!0)))))},ye.flashLoadTimeout))))},T=function(){function t(){re.remove(e,"focus",T)}return nt||!ot?(t(),!0):(it=!0,nt=!0,xe=!1,b(),t(),!0)},pe=function(){We.length&&(We=[])},he=function(){pe();var e,t=[];if(ye.useHTML5Audio&&ye.hasHTML5)for(e in ye.audioFormats)ye.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+ye.html5[e]+(!ye.html5[e]&&qe&&ye.flash[e]?" (using flash)":ye.preferFlash&&ye.flash[e]&&qe?" (preferring flash)":ye.html5[e]?"":" ("+(ye.audioFormats[e].required?"required, ":"")+"and no flash support)"))},p=function(t){if(De)return!1;if(ye.html5Only)return De=!0,O(),!0;var n,o=ye.useFlashBlock&&ye.flashLoadTimeout&&!ye.getMoviePercent(),i=!0;return o||(De=!0),n={type:!ue&&qe?"NO_FLASH":"INIT_TIMEOUT"},(Ie||t)&&(ye.useFlashBlock&&ye.oMC&&(ye.oMC.className=W()+" "+(null===ye.getMoviePercent()?q.swfTimedout:q.swfError)),v({type:"ontimeout",error:n,ignoreInit:!0}),E(n),i=!1),Ie||(ye.waitForWindowLoad&&!He?re.add(e,"load",O):(ye.waitForWindowLoad&&He,O())),i},u=function(){var e,n=ye.setupOptions;for(e in n)n.hasOwnProperty(e)&&(ye[e]===t?ye[e]=n[e]:ye[e]!==n[e]&&(ye.setupOptions[e]=ye[e]))},d=function(){function t(){re.remove(e,"load",ye.beginDelayedInit)}if(De)return!1;if(ye.html5Only)return De||(t(),ye.enabled=!0,p()),!0;S();try{ve._externalInterfaceTest(!1),R(!0,ye.flashPollingInterval||(ye.useHighPerformance?10:50)),ye.debugMode||ve._disableDebug(),ye.enabled=!0,ye.html5Only||re.add(e,"unload",l)}catch(e){return E({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),x(!0),p(),!1}return p(),t(),!0},F=function(){return!I&&(I=!0,u(),k(),!ue&&ye.hasHTML5&&ye.setup({useHTML5Audio:!0,preferFlash:!1}),se(),!ue&&qe&&(We.push(P.needFlash),ye.setup({flashLoadTimeout:1})),Le.removeEventListener&&Le.removeEventListener("DOMContentLoaded",F,!1),S(),!0)},ae=function(){return"complete"===Le.readyState&&(F(),Le.detachEvent("onreadystatechange",ae)),!0},D=function(){He=!0,F(),re.remove(e,"load",D)},de(),re.add(e,"focus",T),re.add(e,"load",b),re.add(e,"load",D),Le.addEventListener?Le.addEventListener("DOMContentLoaded",F,!1):Le.attachEvent?Le.attachEvent("onreadystatechange",ae):E({type:"NO_DOM2_EVENTS",fatal:!0})}if(!e||!e.document)throw new Error("SoundManager requires a browser with window and document objects.");var o=null;e.SM2_DEFER!==t&&SM2_DEFER||(o=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=n,module.exports.soundManager=o):"function"==typeof define&&define.amd&&define(function(){function t(t){if(!e.soundManager&&t instanceof Function){var o=t(n);o instanceof n&&(e.soundManager=o)}return e.soundManager}return{constructor:n,getInstance:t}}),e.SoundManager=n,e.soundManager=o}(window);